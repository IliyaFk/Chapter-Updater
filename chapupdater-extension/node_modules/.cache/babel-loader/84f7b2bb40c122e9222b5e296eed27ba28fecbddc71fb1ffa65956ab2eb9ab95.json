{"ast":null,"code":"import{createTheme,Grid,ThemeProvider,Typography,Box}from'@material-ui/core';import useMediaQuery from'@material-ui/core/useMediaQuery';import{useMemo,useState,useEffect}from'react';// Define the shape of the message array elements\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const prefersDarkMode=useMediaQuery('(prefers-color-scheme: dark)');// Explicitly type the message state as an array of Chapter objects\nconst[message,setMessage]=useState([]);useEffect(()=>{fetch(\"http://localhost:8000/message\").then(res=>res.json()).then(data=>setMessage(data.message||[]))// Ensure data is an array\n.catch(err=>console.error(\"Error fetching message:\",err));},[]);const theme=useMemo(()=>createTheme({palette:{type:prefersDarkMode?'dark':'light'// Use 'type' for Material-UI v4\n},typography:{h1:{fontSize:16,fontWeight:400},body1:{fontFamily:'monospace',fontSize:18}}}),[prefersDarkMode]);return/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsx(Box,{component:\"main\",padding:2,display:\"flex\",children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",justifyContent:\"center\",alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h1\",children:\"Fetched Data\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:message.length>0?message.map((chapter,index)=>/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[chapter.chapterInfo,\" - \",/*#__PURE__*/_jsx(\"a\",{href:`https://mangafire.to${chapter.chapterLink}`,target:\"_blank\",rel:\"noopener noreferrer\",children:\"Read\"})]},index)):/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"No data available\"})})]})})});}export default App;","map":{"version":3,"names":["createTheme","Grid","ThemeProvider","Typography","Box","useMediaQuery","useMemo","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","prefersDarkMode","message","setMessage","fetch","then","res","json","data","catch","err","console","error","theme","palette","type","typography","h1","fontSize","fontWeight","body1","fontFamily","children","component","padding","display","container","direction","justifyContent","alignItems","spacing","item","variant","length","map","chapter","index","chapterInfo","href","chapterLink","target","rel"],"sources":["C:/Users/Iliya/Desktop/Projects/React-Chapter-Updater/chapupdater-extension/src/App.tsx"],"sourcesContent":["import { Button, createTheme, Grid, ThemeProvider, Typography, Box } from '@material-ui/core';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { useMemo, useState, useEffect } from 'react';\n\n// Define the shape of the message array elements\ninterface Chapter {\n  chapterInfo: string;\n  chapterLink: string;\n}\n\nfunction App() {\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n\n  // Explicitly type the message state as an array of Chapter objects\n  const [message, setMessage] = useState<Chapter[]>([]);\n\n  useEffect(() => {\n    fetch(\"http://localhost:8000/message\")\n      .then((res) => res.json())\n      .then((data) => setMessage(data.message || [])) // Ensure data is an array\n      .catch(err => console.error(\"Error fetching message:\", err));\n  }, []);\n\n  const theme = useMemo(\n    () =>\n      createTheme({\n        palette: {\n          type: prefersDarkMode ? 'dark' : 'light', // Use 'type' for Material-UI v4\n        },\n        typography: {\n          h1: {\n            fontSize: 16,\n            fontWeight: 400,\n          },\n          body1: {\n            fontFamily: 'monospace',\n            fontSize: 18,\n          },\n        },\n      }),\n    [prefersDarkMode]\n  );\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Box component='main' padding={2} display='flex'>\n        <Grid container direction='column' justifyContent='center' alignItems='center' spacing={2}>\n          <Grid item>\n            <Typography variant='h1'>Fetched Data</Typography>\n          </Grid>\n\n          <Grid item>\n            {message.length > 0 ? (\n              message.map((chapter, index) => (\n                <Typography key={index} variant='body1'>\n                  {chapter.chapterInfo} - <a href={`https://mangafire.to${chapter.chapterLink}`} target=\"_blank\" rel=\"noopener noreferrer\">Read</a>\n                </Typography>\n              ))\n            ) : (\n              <Typography variant='body1'>No data available</Typography>\n            )}\n          </Grid>\n        </Grid>\n      </Box>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,OAAiBA,WAAW,CAAEC,IAAI,CAAEC,aAAa,CAAEC,UAAU,CAAEC,GAAG,KAAQ,mBAAmB,CAC7F,MAAO,CAAAC,aAAa,KAAM,iCAAiC,CAC3D,OAASC,OAAO,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAEpD;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAMA,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAAAC,eAAe,CAAGT,aAAa,CAAC,8BAA8B,CAAC,CAErE;AACA,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGT,QAAQ,CAAY,EAAE,CAAC,CAErDC,SAAS,CAAC,IAAM,CACdS,KAAK,CAAC,+BAA+B,CAAC,CACnCC,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,EAAKL,UAAU,CAACK,IAAI,CAACN,OAAO,EAAI,EAAE,CAAC,CAAE;AAAA,CAC/CO,KAAK,CAACC,GAAG,EAAIC,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAEF,GAAG,CAAC,CAAC,CAChE,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,KAAK,CAAGpB,OAAO,CACnB,IACEN,WAAW,CAAC,CACV2B,OAAO,CAAE,CACPC,IAAI,CAAEd,eAAe,CAAG,MAAM,CAAG,OAAS;AAC5C,CAAC,CACDe,UAAU,CAAE,CACVC,EAAE,CAAE,CACFC,QAAQ,CAAE,EAAE,CACZC,UAAU,CAAE,GACd,CAAC,CACDC,KAAK,CAAE,CACLC,UAAU,CAAE,WAAW,CACvBH,QAAQ,CAAE,EACZ,CACF,CACF,CAAC,CAAC,CACJ,CAACjB,eAAe,CAClB,CAAC,CAED,mBACEJ,IAAA,CAACR,aAAa,EAACwB,KAAK,CAAEA,KAAM,CAAAS,QAAA,cAC1BzB,IAAA,CAACN,GAAG,EAACgC,SAAS,CAAC,MAAM,CAACC,OAAO,CAAE,CAAE,CAACC,OAAO,CAAC,MAAM,CAAAH,QAAA,cAC9CvB,KAAA,CAACX,IAAI,EAACsC,SAAS,MAACC,SAAS,CAAC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAACC,UAAU,CAAC,QAAQ,CAACC,OAAO,CAAE,CAAE,CAAAR,QAAA,eACxFzB,IAAA,CAACT,IAAI,EAAC2C,IAAI,MAAAT,QAAA,cACRzB,IAAA,CAACP,UAAU,EAAC0C,OAAO,CAAC,IAAI,CAAAV,QAAA,CAAC,cAAY,CAAY,CAAC,CAC9C,CAAC,cAEPzB,IAAA,CAACT,IAAI,EAAC2C,IAAI,MAAAT,QAAA,CACPpB,OAAO,CAAC+B,MAAM,CAAG,CAAC,CACjB/B,OAAO,CAACgC,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,gBACzBrC,KAAA,CAACT,UAAU,EAAa0C,OAAO,CAAC,OAAO,CAAAV,QAAA,EACpCa,OAAO,CAACE,WAAW,CAAC,KAAG,cAAAxC,IAAA,MAAGyC,IAAI,CAAE,uBAAuBH,OAAO,CAACI,WAAW,EAAG,CAACC,MAAM,CAAC,QAAQ,CAACC,GAAG,CAAC,qBAAqB,CAAAnB,QAAA,CAAC,MAAI,CAAG,CAAC,GADlHc,KAEL,CACb,CAAC,cAEFvC,IAAA,CAACP,UAAU,EAAC0C,OAAO,CAAC,OAAO,CAAAV,QAAA,CAAC,mBAAiB,CAAY,CAC1D,CACG,CAAC,EACH,CAAC,CACJ,CAAC,CACO,CAAC,CAEpB,CAEA,cAAe,CAAAtB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}